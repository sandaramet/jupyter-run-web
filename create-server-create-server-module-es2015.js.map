{"version":3,"sources":["./src/app/pages/home/create-server/create-server.page.html","./src/app/pages/home/create-server/create-server-routing.module.ts","./src/app/pages/home/create-server/create-server.module.ts","./src/app/pages/home/create-server/create-server.page.scss","./src/app/pages/home/create-server/create-server.page.ts"],"names":[],"mappings":"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","file":"create-server-create-server-module-es2015.js","sourcesContent":["export default \"<app-header>\\n</app-header>\\n<ion-content>\\n  <ion-progress-bar [attr.type]=\\\"loading == true ? 'indeterminate' : ''\\\"></ion-progress-bar>\\n  <ion-grid fixed>\\n    <ion-row>\\n      <ion-col size-xs=\\\"12\\\" offset-md=\\\"4\\\" size-md=\\\"4\\\">\\n        <form (ngSubmit)=\\\"onSubmit()\\\">\\n          <ion-item class=\\\"ion-margin-vertical\\\">\\n            <ion-input required placeholder=\\\"Name\\\" name=\\\"name\\\" type=\\\"text\\\"\\n              [(ngModel)]=\\\"newVM.name\\\"></ion-input>\\n          </ion-item>\\n          <ion-item class=\\\"ion-margin-vertical\\\">\\n            <ion-label>Region</ion-label>\\n            <ion-select value=\\\"\\\" placeholder=\\\"Select Region\\\" name=\\\"region\\\"\\n              [(ngModel)]=\\\"newVM.region\\\" interface=\\\"action-sheet\\\">\\n              <ng-template ngFor let-region [ngForOf]=\\\"regions\\\">\\n                <ion-select-option [value]=region>{{region}}</ion-select-option>\\n              </ng-template>\\n            </ion-select>\\n          </ion-item>\\n          <ion-item class=\\\"ion-margin-vertical\\\">\\n            <ion-label>VM type</ion-label>\\n            <ion-select value=\\\"\\\" placeholder=\\\"Select type\\\" name=\\\"vmType\\\"\\n              [(ngModel)]=\\\"newVM.vmType\\\" interface=\\\"action-sheet\\\">\\n              <ng-template ngFor let-machineType [ngForOf]=\\\"machineTypes\\\">\\n                <ion-select-option [value]=machineType>{{machineType}}</ion-select-option>\\n              </ng-template>\\n            </ion-select>\\n          </ion-item>\\n          <ion-item class=\\\"ion-margin-vertical\\\">\\n            <ion-input required placeholder=\\\"Jupyter password\\\"\\n              name=\\\"jupyterPassword\\\" type=\\\"password\\\"\\n              [(ngModel)]=\\\"newVM.jupyterPassword\\\">\\n            </ion-input>\\n          </ion-item>\\n          <ion-button routerLink=\\\"/home\\\" color=\\\"danger\\\"\\n            class=\\\"ion-margin-vertical\\\">\\n            back\\n          </ion-button>\\n          <ion-button color=\\\"success\\\" fill=\\\"solid\\\" type=\\\"submit\\\"\\n            class=\\\"ion-margin-vertical\\\">\\n            <ion-icon slot=\\\"start\\\" name=\\\"create-outline\\\"></ion-icon>\\n            Create\\n          </ion-button>\\n        </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CreateServerPage } from './create-server.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreateServerPage,\n  }\n  \n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CreateServerPageRoutingModule { }\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreateServerPageRoutingModule } from './create-server-routing.module';\n\nimport { CreateServerPage } from './create-server.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CreateServerPageRoutingModule\n  ],\n  declarations: [CreateServerPage],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class CreateServerPageModule {}\n","export default \"ion-button:last-child {\\n  float: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NhbmRhcmFtZXQvRG9jdW1lbnRzL2p1cHl0ZXItcnVuL3NyYy9hcHAvcGFnZXMvaG9tZS9jcmVhdGUtc2VydmVyL2NyZWF0ZS1zZXJ2ZXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9ob21lL2NyZWF0ZS1zZXJ2ZXIvY3JlYXRlLXNlcnZlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9ob21lL2NyZWF0ZS1zZXJ2ZXIvY3JlYXRlLXNlcnZlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYnV0dG9uOmxhc3QtY2hpbGR7XG4gICAgZmxvYXQ6IHJpZ2h0O1xufSIsImlvbi1idXR0b246bGFzdC1jaGlsZCB7XG4gIGZsb2F0OiByaWdodDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { DataService } from 'src/app/services/data.service';\nimport { Router } from '@angular/router';\nimport { environment } from \"../../../../environments/environment\";\nimport { AlertController } from '@ionic/angular';\nconst { baseUrl } = environment\ninterface NewVM {\n  name: string;\n  region: string;\n  vmType: string;\n  jupyterPassword: string\n}\n@Component({\n  selector: 'app-create-server',\n  templateUrl: './create-server.page.html',\n  styleUrls: ['./create-server.page.scss'],\n})\nexport class CreateServerPage implements OnInit {\n  loading: boolean = false\n  regions: Array<string> = []\n  machineTypes: Array<string> = []\n  newVM: NewVM = {\n    name: \"\",\n    region: \"\",\n    vmType: \"\",\n    jupyterPassword: \"\"\n\n  }\n  constructor(private data: DataService, private router: Router, public alertController: AlertController) { }\n  async presentAlert(msg: string) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      message: msg,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  ngOnInit() {\n    if (localStorage.getItem('regions') == null) {\n      if (localStorage.getItem('machineType') == null) {\n        this.data.getRegionsAndMachineTypes().subscribe(data => {\n          console.log(data)\n          if (localStorage.getItem('regions') == null) {\n            console.log(localStorage.getItem('regions'))\n            for (let region of data['regionas']) {\n              this.regions.push(region['name'])\n            }\n            localStorage.setItem(\"regions\", String(this.regions))\n          }\n          if (localStorage.getItem('machineType') == null) {\n            console.log(localStorage.getItem('machineType'))\n            for (let machineTypes of data['machineType']) {\n              this.machineTypes.push(machineTypes['name'])\n            }\n            localStorage.setItem(\"machineTypes\", String(this.machineTypes))\n          }\n        })\n      }\n    }\n    else {\n      console.log(\"else\")\n      this.regions = localStorage.getItem(\"regions\").split(\",\")\n      this.machineTypes = localStorage.getItem(\"machineTypes\").split(\",\")\n\n    }\n  }\n  onSubmit() {\n    this.loading = true\n    console.log(this.newVM)\n\n    this.data.createVM(this.newVM).subscribe(res => {\n      console.log(res)\n      if (res['statusCode'] == 200) {\n\n        this.presentAlert('You sucsesfuly created new VM it will available in 10 min')\n        this.router.navigateByUrl('/home')\n        this.data.addVMIdToFirebase(res['data'], this.newVM.name)\n      } else {\n        this.presentAlert(res['error'])\n      }\n      this.loading = false\n    })\n\n\n\n    // fetch(`${baseUrl}/createVirtualMachine?uid=81wXgHbek5NFN7GgPCf4cgERxB22&name=${this.newVM.name}&machine_type=${this.newVM.vmType}&password=${this.newVM.jupyterPassword}&region=${this.newVM.region}`, {\n    //   method: 'GET',\n    //   redirect: 'follow'\n    // })\n    //   .then(response => response.json())\n    //   .then(result => {\n    //     console.log(result)\n    //     alert(\"You sucsesfuly created new VM it will available in 10 min\")\n    //     this.router.navigateByUrl('/home')\n    //   })\n    //   .catch(error => console.log(alert(error)));\n  }\n\n}\n"],"sourceRoot":"webpack:///"}